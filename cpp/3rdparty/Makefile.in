# Makefile to compile the module in this directory

include @DBCOREDIR@/setup/Makefile.base

ifeq ($(BUILD_FOR_WINDOWS),yes)
build-libraries:
	@mkdir -p $(WINDOWS_LIB_DIR)
	@ln -sf $(CWD)/pthread/pthreadGCE2.dll $(WINDOWS_LIB_DIR)/pthreadGCE2.dll
	@ln -sf $(CWD)/openssl/libeay32.dll $(WINDOWS_LIB_DIR)/libeay32.dll
	@ln -sf $(CWD)/openssl/ssleay32.dll $(WINDOWS_LIB_DIR)/ssleay32.dll
	@ln -sf $(CWD)/expat/libexpat.dll $(WINDOWS_LIB_DIR)/libexpat.dll
	@ln -sf $(CWD)/iconv/libiconv2.dll $(WINDOWS_LIB_DIR)/iconv2.dll
	@ln -sf $(CWD)/iconv/libiconv2.dll $(WINDOWS_LIB_DIR)/libiconv2.dll
	@ln -sf $(CWD)/iconv/libcharset1.dll $(WINDOWS_LIB_DIR)/charset1.dll
	@ln -sf $(CWD)/regex/libgnurx-0.dll $(WINDOWS_LIB_DIR)/libgnurx-0.dll
	@ln -sf $(CWD)/sqlite3/sqlite3.dll $(WINDOWS_LIB_DIR)/sqlite3.dll
	@ln -sf $(CWD)/zlib/mgwz.dll $(WINDOWS_LIB_DIR)/mgwz.dll
	@zcat /usr/share/doc/mingw32-runtime/mingwm10.dll.gz > $(WINDOWS_LIB_DIR)/mingwm10.dll
endif
