# Makefile to compile the module in this directory

include @DBCOREDIR@/setup/Makefile.base

ifeq ($(BUILD_FOR_WINDOWS),yes)
build-libraries:
	@mkdir -p $(WINDOWS_LIB_DIR)
	@ln -sf $(MODULE_BASE_DIR)/pthread/libpthreadGCE2.a $(WINDOWS_LIB_DIR)/libpthreadGCE2.lib
	@ln -sf $(MODULE_BASE_DIR)/pthread/pthreadGCE2.dll $(WINDOWS_LIB_DIR)/pthreadGCE2.dll
	@ln -sf $(MODULE_BASE_DIR)/openssl/libeay32.a $(WINDOWS_LIB_DIR)/libeay32.lib
	@ln -sf $(MODULE_BASE_DIR)/openssl/ssleay32.a $(WINDOWS_LIB_DIR)/ssleay32.lib
	@ln -sf $(MODULE_BASE_DIR)/openssl/libeay32.dll $(WINDOWS_LIB_DIR)/libeay32.dll
	@ln -sf $(MODULE_BASE_DIR)/openssl/ssleay32.dll $(WINDOWS_LIB_DIR)/ssleay32.dll
	@ln -sf $(MODULE_BASE_DIR)/expat/libexpat.a $(WINDOWS_LIB_DIR)/libexpat.lib
	@ln -sf $(MODULE_BASE_DIR)/expat/libexpat.a $(WINDOWS_LIB_DIR)/expat.dll
	@ln -sf $(MODULE_BASE_DIR)/expat/libexpat.dll $(WINDOWS_LIB_DIR)/libexpat.dll
	@ln -sf $(MODULE_BASE_DIR)/iconv/libiconv2.dll $(WINDOWS_LIB_DIR)/iconv2.dll
	@ln -sf $(MODULE_BASE_DIR)/iconv/libcharset1.dll $(WINDOWS_LIB_DIR)/charset1.dll
	@ln -sf $(MODULE_BASE_DIR)/mysql/libmysql.lib $(WINDOWS_LIB_DIR)/libmysql.lib
	@ln -sf $(MODULE_BASE_DIR)/mysql/mysys.lib $(WINDOWS_LIB_DIR)/mysys.lib
	@ln -sf $(MODULE_BASE_DIR)/mysql/regex.lib $(WINDOWS_LIB_DIR)/regex.lib
	@ln -sf $(MODULE_BASE_DIR)/mysql/strings.lib $(WINDOWS_LIB_DIR)/strings.lib
	@ln -sf $(MODULE_BASE_DIR)/mysql/zlib.lib $(WINDOWS_LIB_DIR)/zlib.lib
	@ln -sf $(MODULE_BASE_DIR)/mysql/libmysql.dll $(WINDOWS_LIB_DIR)/mysql.dll
	@ln -sf $(MODULE_BASE_DIR)/regex/libregex.a $(WINDOWS_LIB_DIR)/libgnurx-0.lib
	@ln -sf $(MODULE_BASE_DIR)/regex/libregex.dll $(WINDOWS_LIB_DIR)/libgnurx-0.dll
	@ln -sf $(MODULE_BASE_DIR)/sqlite3/sqlite3.dll $(WINDOWS_LIB_DIR)/sqlite3.dll
	@ln -sf $(MODULE_BASE_DIR)/zlib/libz.a $(WINDOWS_LIB_DIR)/libz.lib
	@ln -sf $(MODULE_BASE_DIR)/zlib/mgwz.dll $(WINDOWS_LIB_DIR)/mgwz.dll
endif
